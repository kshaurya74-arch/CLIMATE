const API_KEY = "RAmK6mqLKrUnTv9YeEMFBnDQFcEFdafM"; // NOT SAFE â€” demo only
const API_URL = "https://api.mistral.ai/v1/chat/completions";

async function testMistral() {
  console.log("Testing Mistral API...");
  console.log("Using API Key:", API_KEY.slice(0, 8) + "...");

  const response = await fetch(API_URL, {
    method: "POST",
    headers: {
      "Authorization": `Bearer ${API_KEY}`,
      "Content-Type": "application/json"
    },
    body: JSON.stringify({
      model: "mistral-medium",
      messages: [
        { role: "user", content: "Hello, how are you?" }
      ]
    })
  });

  console.log("Response Status:", response.status);

  const data = await response.json();
  console.log("Response Body:", data);

  if (response.ok) {
    console.log("Success! Chatbot reply:");
    console.log(data.choices[0].message.content);
  } else {
    console.error("Error! Check:");
    console.error("- API key validity");
    console.error("- Authorization header");
    console.error("- Endpoint URL");
    console.error("- Account status");
  }
}

testMistral();
